(()=>{"use strict";var e={2434:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function u(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,l)}a((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(6012)),u=r(n(9853));window.addEventListener("DOMContentLoaded",(()=>o(void 0,void 0,void 0,(function*(){(0,u.default)(yield(0,i.default)())}))))},9853:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(1820));t.default=e=>{const t=document.querySelectorAll("a#plugin-download-link"),n=document.querySelectorAll("#plugin-title"),o=(0,r.default)(location.href);let i=null,u=null;o.pluginId&&(u=o.pluginId,i=e.pluginFromId(o.pluginId)),i||console.warn("Invalid plugin ID.");const l="Error: Invalid plugin ID, "+u;for(const n of t)if(i){const t=e.getReleaseDownloadLink(i);n.setAttribute("href",t)}else n.innerText=l;for(const e of n){let t=l;i&&(t=i.name),e.replaceChildren(document.createTextNode(t))}}},2366:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function u(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,l)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e,t){this.rawPlugins=e,this.siteRoot=t,this.allPlugins=Object.values(e)}isRecommended(e){var t;return e in this.rawPlugins&&null!==(t=this.rawPlugins[e]._recommended)&&void 0!==t&&t}pluginFromId(e){return e in this.rawPlugins?this.rawPlugins[e]:null}getLinkToPlugin(e){return this.siteRoot+"/plugin/"+e.id}getCorsDownloadLink(e){return`https://raw.githubusercontent.com/joplin/plugins/master/plugins/${e.id}/plugin.jpl`}getReleaseDownloadLink(e){var t;return`https://github.com/joplin/plugins/releases/download/plugins/${e.id}@${null!==(t=e.version)&&void 0!==t?t:0}.jpl`}getNPMLink(e){return`https://www.npmjs.com/package/${e._npm_package_name}`}getWeeksSinceUpdated(e){return((new Date).getTime()-new Date(e.timeModified).getTime())/1e3/60/60/24/7}search(e,t){const n=(()=>{var n,o;let r=e;const i=(e,t)=>{const n=new RegExp(`^(.*\\s+|)${e}[=:]\\s*(${t})(.*)$`),o=r.match(n);let i=null;if(o){const e=o[1];i=o[2];const t=o[3];r=e+t}return i},u=e=>{let t=i(e,'"[^"]+"|[^" \\t;,]+');return t&&t.match(/^["].*["]$/)&&(t=t.replace(/^"/g,"").replace(/"$/g,"").replace(/[&]quo;/g,'"')),t},l=null!==(n=(e=>{const t=i("max-results","\\d+");return t?parseInt(t):null})())&&void 0!==n?n:t;return{onlyShowFromAuthor:u("author"),onlyShowForMaintainers:null===(o=u("maintainer"))||void 0===o?void 0:o.split(/\sOR\s/),maxResults:l,newQuery:r}})(),o=n.maxResults;e=n.newQuery.toLowerCase().trim();const r=(e,t)=>t.includes(e),i=t=>r(e,t)||((e,t)=>{const n=e.split(/\s+/);let o=0;for(const e of n)o+=r(e,t)?1:0;return o})(e,t)>0,u=t=>{const n=i(t.name.toLowerCase()),o=i(t.description.toLowerCase()),r=i(t.author.toLowerCase()),u=e===t.id;if(!(n||o||u||r))return 0;let l=0;(n||u)&&(l+=10),t.name.toLowerCase()===e&&(l+=5),r&&(l++,t.author.toLowerCase()===e&&(l+=20)),o&&l++,this.isRecommended(t.id)&&(l*=2);const a=this.getWeeksSinceUpdated(t);return a<=12?l*=1.1:isNaN(a)||(l+=1/a),l},l=this.allPlugins.filter((e=>!n.onlyShowFromAuthor||e.author===n.onlyShowFromAuthor)).filter((e=>{if(!n.onlyShowForMaintainers)return!0;for(const t of n.onlyShowForMaintainers)if(e._npm_package_maintainers.includes(t))return!0;return!1})).filter((e=>u(e)>0));return l.sort(((e,t)=>u(t)-u(e))),l.slice(0,Math.min(o,l.length))}static fromURL(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(e),r=yield n.json();return new o(r,t)}))}static fromData(e){return new o(e.plugins.raw,e.config.site)}}t.default=o},6012:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function u(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,l)}a((o=o.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(2366)),u=document.querySelector("#site-root").innerText;t.default=()=>o(void 0,void 0,void 0,(function*(){var e;const t=window;return null!==(e=t.pluginDataManager)&&void 0!==e||(t.pluginDataManager=yield i.default.fromURL(`${u}/pluginData.json`,u)),t.pluginDataManager}))},1820:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t=e.match(/\?(?:plugin|id)=([^,?#/]+)[^/]*$/),n=e.match(/\?from-tab=([^,?#/]+)[^/]*$/);return{fromTab:n?n[1].replace(/\W/g,"-"):null,pluginId:t?t[1]:null}}}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(2434)})();