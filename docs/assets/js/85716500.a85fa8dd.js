"use strict";(self.webpackChunk_joplin_doc_builder=self.webpackChunk_joplin_doc_builder||[]).push([[5715],{3905:function(e,t,r){r.d(t,{Zo:function(){return h},kt:function(){return d}});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},h=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,h=o(e,["components","mdxType","originalType","parentName"]),p=l(r),g=a,d=p["".concat(c,".").concat(g)]||p[g]||u[g]||i;return r?n.createElement(d,s(s({ref:t},h),{},{components:r})):n.createElement(d,s({ref:t},h))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,s=new Array(i);s[0]=g;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[p]="string"==typeof e?e:a,s[1]=o;for(var l=2;l<i;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},99157:function(e,t,r){r.r(t),r.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return i},metadata:function(){return o},toc:function(){return l}});var n=r(87462),a=(r(67294),r(3905));const i={sidebar_label:"Search Engine",title:"Search Engine",description:"The Search Engine powers the Search input in the note list and the Goto Anything dialog. Search algorithm Discretely using only the most critical parameter in sorting Sorting occurs as the Search E..."},s="Search Engine",o={unversionedId:"dev/spec/search_sorting",id:"dev/spec/search_sorting",title:"Search Engine",description:"The Search Engine powers the Search input in the note list and the Goto Anything dialog. Search algorithm Discretely using only the most critical parameter in sorting Sorting occurs as the Search E...",source:"@site/help/dev/spec/search_sorting.md",sourceDirName:"dev/spec",slug:"/dev/spec/search_sorting",permalink:"/help/dev/spec/search_sorting",draft:!1,editUrl:"https://github.com/laurent22/joplin/tree/dev/readme/dev/spec/search_sorting.md",tags:[],version:"current",frontMatter:{sidebar_label:"Search Engine",title:"Search Engine",description:"The Search Engine powers the Search input in the note list and the Goto Anything dialog. Search algorithm Discretely using only the most critical parameter in sorting Sorting occurs as the Search E..."},sidebar:"helpSidebar",previous:{title:"Read-only",permalink:"/help/dev/spec/read_only"},next:{title:"Debugging Server project with vscode",permalink:"/help/dev/spec/server_debug"}},c={},l=[{value:"Search algorithm",id:"search-algorithm",level:2},{value:"Discretely using only the most critical parameter in sorting",id:"discretely-using-only-the-most-critical-parameter-in-sorting",level:3},{value:"Determining weight as a sorting parameter",id:"determining-weight-as-a-sorting-parameter",level:3},{value:"BM25",id:"bm25",level:4},{value:"Days since last user update",id:"days-since-last-user-update",level:4}],h={toc:l},p="wrapper";function u(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"search-engine"},"Search Engine"),(0,a.kt)("div",{className:"donate-links"},(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.paypal.com/donate/?business=E8JMYD2LQ8MMA&no_recurring=0&item_name=I+rely+on+donations+to+maintain+and+improve+the+Joplin+open+source+project.+Thank+you+for+your+help+-+it+makes+a+difference%21&currency_code=EUR"},(0,a.kt)("img",{parentName:"a",src:"https://raw.githubusercontent.com/laurent22/joplin/dev/Assets/WebsiteAssets/images/badges/Donate-PayPal-green.svg",alt:"Donate using PayPal"}))," ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/sponsors/laurent22/"},(0,a.kt)("img",{parentName:"a",src:"https://raw.githubusercontent.com/laurent22/joplin/dev/Assets/WebsiteAssets/images/badges/GitHub-Badge.svg",alt:"Sponsor on GitHub"}))," ",(0,a.kt)("a",{parentName:"p",href:"https://www.patreon.com/joplin"},(0,a.kt)("img",{parentName:"a",src:"https://raw.githubusercontent.com/laurent22/joplin/dev/Assets/WebsiteAssets/images/badges/Patreon-Badge.svg",alt:"Become a patron"}))," ",(0,a.kt)("a",{parentName:"p",href:"https://joplinapp.org/donate/#donations"},(0,a.kt)("img",{parentName:"a",src:"https://raw.githubusercontent.com/laurent22/joplin/dev/Assets/WebsiteAssets/images/badges/Donate-IBAN.svg",alt:"Donate using IBAN"})))),(0,a.kt)("p",null,"The Search Engine powers the Search input in the note list and the Goto Anything dialog."),(0,a.kt)("h2",{id:"search-algorithm"},"Search algorithm"),(0,a.kt)("h3",{id:"discretely-using-only-the-most-critical-parameter-in-sorting"},"Discretely using only the most critical parameter in sorting"),(0,a.kt)("p",null,"Sorting occurs as the Search Engine processes results, after searching for and weighting these results."),(0,a.kt)("p",null,"Parameters include fuzziness, title matching, weight (based on BM25 and age), the completed status of to-dos, and the note's age."),(0,a.kt)("p",null,"The Search Engine uses only the first relevant parameter to determine the order, rather than a weighted average.In effect, this means search results with note title matches will appear above all results that only matched the note body,regardless of weight or other parameters."),(0,a.kt)("h3",{id:"determining-weight-as-a-sorting-parameter"},"Determining weight as a sorting parameter"),(0,a.kt)("p",null,"The Search Engine determines the weight parameter using both ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Okapi_BM25"},"BM25"),"and the number of days since last user update."),(0,a.kt)("h4",{id:"bm25"},"BM25"),(0,a.kt)("p",null,'The Search Engine determines BM25 based on "term frequency-inverse document frequency."The "TF\u2013IDF" value increases proportionally to the number of times a word appears in the documentand is offset by the number of documents in the corpus that contain the word, which helps to adjustfor the fact that some words appear more frequently in general.'),(0,a.kt)("p",null,"BM25 returns weight zero for a search term that occurs in more than half the notes.So terms that are abundant in all notes to have zero relevance w.r.t. BM25."),(0,a.kt)("h4",{id:"days-since-last-user-update"},"Days since last user update"),(0,a.kt)("p",null,"Sorting increases the BM25 weight by the inverse number of days since the note was updated.Recent notes will, therefore, be weighted highly in the search results.This time-based weight decays logarithmically, becoming less of a factor than BM25 after months have passed."))}u.isMDXComponent=!0}}]);